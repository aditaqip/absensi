<template>
    <div class="w-full overflow-x-auto">
        <div class="h-full">
            <div class="p-5 bg-slate-100 h-full">
                <div class="lg:w-full px-5 py-3 rounded-lg block md:block bg-white relative overflow-x-auto">
                    <h1 class="text-xl py-2">Report</h1>
                    <hr />
                    <div class="flex justify-between items-center flex-wrap mt-2">
                        <div>Show <input type="number" class="mx-3 pl-5 w-16 h-6 border border-black rounded-lg" :value="dataMounted" />Data</div>
                        <div class="flex justify-around gap-10">
                            <div class="flex items-center gap-2">
                                <div>
                                    Convert
                                </div>
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                                    <path d="M4.94727 2.25C4.47485 2.25 4.02178 2.42779 3.68773 2.74426C3.35368 3.06072 3.16602 3.48995 3.16602 3.9375V5.8125C3.16602 6.03411 3.21209 6.25354 3.30161 6.45828C3.39112 6.66301 3.52233 6.84904 3.68773 7.00574C4.02178 7.32221 4.47485 7.5 4.94727 7.5H12.4681C12.702 7.5 12.9336 7.45635 13.1498 7.37155C13.3659 7.28674 13.5622 7.16244 13.7276 7.00574C13.893 6.84904 14.0242 6.66301 14.1138 6.45828C14.2033 6.25354 14.2493 6.03411 14.2493 5.8125V3.9375C14.2493 3.48995 14.0617 3.06072 13.7276 2.74426C13.3936 2.42779 12.9405 2.25 12.4681 2.25H4.94727ZM4.35352 3.9375C4.35352 3.78832 4.41607 3.64524 4.52742 3.53975C4.63877 3.43426 4.78979 3.375 4.94727 3.375H12.4681C12.6256 3.375 12.7766 3.43426 12.8879 3.53975C12.9993 3.64524 13.0618 3.78832 13.0618 3.9375V5.8125C13.0618 5.96168 12.9993 6.10476 12.8879 6.21025C12.7766 6.31574 12.6256 6.375 12.4681 6.375H4.94727C4.78979 6.375 4.63877 6.31574 4.52742 6.21025C4.41607 6.10476 4.35352 5.96168 4.35352 5.8125V3.9375ZM6.88685 12C6.58047 12 6.33268 12.252 6.33268 12.5625C6.33268 12.873 6.58047 13.125 6.88685 13.125H10.5285C10.8349 13.125 11.0827 12.873 11.0827 12.5625C11.0827 12.252 10.8349 12 10.5285 12H6.88685ZM13.7371 12.3337L13.6793 12.3967C13.5788 12.492 13.4455 12.5499 13.3037 12.56C13.1619 12.57 13.0211 12.5315 12.9067 12.4515L12.8402 12.3967L11.2568 10.8968C11.1563 10.8015 11.0952 10.6752 11.0845 10.5409C11.0739 10.4066 11.1146 10.2731 11.1991 10.1648L11.2568 10.1017L12.8402 8.60175C12.9463 8.50203 13.0881 8.44388 13.2375 8.4389C13.3868 8.43391 13.5327 8.48247 13.6459 8.57487C13.7591 8.66727 13.8314 8.79672 13.8483 8.93739C13.8652 9.07806 13.8255 9.21959 13.7371 9.33375L13.6793 9.39675L13.1101 9.9375H14.2976C14.5425 9.93742 14.7786 9.85135 14.9604 9.69592C15.1421 9.54049 15.2566 9.32675 15.2817 9.096L15.2872 9V7.3125C15.2873 7.16998 15.3444 7.03279 15.4471 6.92866C15.5498 6.82452 15.6904 6.76119 15.8405 6.75148C15.9906 6.74177 16.139 6.78639 16.2557 6.87632C16.3724 6.96626 16.4487 7.09481 16.4692 7.236L16.4747 7.3125V9C16.4747 9.52534 16.2632 10.0309 15.8831 10.4135C15.5031 10.7961 14.9833 11.0268 14.4298 11.0588L14.2976 11.0625H13.1109L13.6793 11.6017C13.7799 11.697 13.841 11.8233 13.8516 11.9576C13.8623 12.0919 13.8216 12.2254 13.7371 12.3337ZM14.2493 14.4375V12.918L14.2391 12.927C13.9184 13.2315 13.4791 13.3545 13.0618 13.2983V14.4375C13.0618 14.5867 12.9993 14.7298 12.8879 14.8352C12.7766 14.9407 12.6256 15 12.4681 15H4.94727C4.78979 15 4.63877 14.9407 4.52742 14.8352C4.41607 14.7298 4.35352 14.5867 4.35352 14.4375V10.6875C4.35352 10.5383 4.41607 10.3952 4.52742 10.2898C4.63877 10.1843 4.78979 10.125 4.94727 10.125H10.348C10.3939 9.981 10.4652 9.843 10.5633 9.71775L10.5808 9.69525L10.6758 9.59025L11.2996 9H4.94727C4.47485 9 4.02178 9.17779 3.68773 9.49426C3.35368 9.81073 3.16602 10.2399 3.16602 10.6875V14.4375C3.16602 14.8851 3.35368 15.3143 3.68773 15.6307C4.02178 15.9472 4.47485 16.125 4.94727 16.125H12.4681C12.9405 16.125 13.3936 15.9472 13.7276 15.6307C14.0617 15.3143 14.2493 14.8851 14.2493 14.4375Z" fill="black"/>
                                </svg>
                            </div>
                            <div class="flex items-center gap-2 cursor-pointer" v-on:click="searchState = !searchState">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M12.3793 14.0322C9.01434 14.0322 6.27734 11.2947 6.27734 7.92967C6.27734 4.56417 9.01484 1.82617 12.3793 1.82617C15.7438 1.82617 18.4813 4.56417 18.4813 7.92967C18.4813 11.2947 15.7438 14.0322 12.3793 14.0322ZM12.3793 2.26617C9.25684 2.26617 6.71684 4.80717 6.71684 7.93017C6.71684 11.0527 9.25684 13.5932 12.3793 13.5932C15.5018 13.5932 18.0418 11.0527 18.0418 7.93017C18.0418 4.80717 15.5018 2.26617 12.3793 2.26617Z" fill="black"/>
                                    <path d="M17.0844 8.15091C17.0261 8.15091 16.9701 8.12773 16.9289 8.08647C16.8876 8.04521 16.8645 7.98925 16.8645 7.93091C16.8645 5.45691 14.852 3.44391 12.3785 3.44391C12.3201 3.44391 12.2641 3.42073 12.2229 3.37947C12.1816 3.33821 12.1585 3.28225 12.1585 3.22391C12.1585 3.16556 12.1816 3.1096 12.2229 3.06834C12.2641 3.02708 12.3201 3.00391 12.3785 3.00391C15.0944 3.00391 17.304 5.21391 17.304 7.93041C17.3041 7.95932 17.2985 7.98797 17.2875 8.01471C17.2766 8.04146 17.2604 8.06577 17.24 8.08626C17.2196 8.10675 17.1954 8.12301 17.1687 8.1341C17.142 8.1452 17.1134 8.15091 17.0844 8.15091ZM1.73895 18.1739C1.69438 18.1738 1.65089 18.1601 1.61425 18.1348C1.57761 18.1094 1.54955 18.0735 1.53377 18.0318C1.518 17.9901 1.51525 17.9446 1.52591 17.9013C1.53657 17.858 1.56012 17.819 1.59345 17.7894L8.15145 12.0154C8.19553 11.9797 8.2517 11.9624 8.30823 11.9671C8.36477 11.9718 8.4173 11.9982 8.45485 12.0407C8.4924 12.0832 8.51208 12.1386 8.50977 12.1953C8.50746 12.252 8.48334 12.3056 8.44245 12.3449L1.88395 18.1189C1.84399 18.1544 1.79239 18.174 1.73895 18.1739Z" fill="black"/>
                                </svg>
                                <div>
                                    Search
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <div>
                                    Filter
                                </div>
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                                    <path d="M4.94727 2.25C4.47485 2.25 4.02178 2.42779 3.68773 2.74426C3.35368 3.06072 3.16602 3.48995 3.16602 3.9375V5.8125C3.16602 6.03411 3.21209 6.25354 3.30161 6.45828C3.39112 6.66301 3.52233 6.84904 3.68773 7.00574C4.02178 7.32221 4.47485 7.5 4.94727 7.5H12.4681C12.702 7.5 12.9336 7.45635 13.1498 7.37155C13.3659 7.28674 13.5622 7.16244 13.7276 7.00574C13.893 6.84904 14.0242 6.66301 14.1138 6.45828C14.2033 6.25354 14.2493 6.03411 14.2493 5.8125V3.9375C14.2493 3.48995 14.0617 3.06072 13.7276 2.74426C13.3936 2.42779 12.9405 2.25 12.4681 2.25H4.94727ZM4.35352 3.9375C4.35352 3.78832 4.41607 3.64524 4.52742 3.53975C4.63877 3.43426 4.78979 3.375 4.94727 3.375H12.4681C12.6256 3.375 12.7766 3.43426 12.8879 3.53975C12.9993 3.64524 13.0618 3.78832 13.0618 3.9375V5.8125C13.0618 5.96168 12.9993 6.10476 12.8879 6.21025C12.7766 6.31574 12.6256 6.375 12.4681 6.375H4.94727C4.78979 6.375 4.63877 6.31574 4.52742 6.21025C4.41607 6.10476 4.35352 5.96168 4.35352 5.8125V3.9375ZM6.88685 12C6.58047 12 6.33268 12.252 6.33268 12.5625C6.33268 12.873 6.58047 13.125 6.88685 13.125H10.5285C10.8349 13.125 11.0827 12.873 11.0827 12.5625C11.0827 12.252 10.8349 12 10.5285 12H6.88685ZM13.7371 12.3337L13.6793 12.3967C13.5788 12.492 13.4455 12.5499 13.3037 12.56C13.1619 12.57 13.0211 12.5315 12.9067 12.4515L12.8402 12.3967L11.2568 10.8968C11.1563 10.8015 11.0952 10.6752 11.0845 10.5409C11.0739 10.4066 11.1146 10.2731 11.1991 10.1648L11.2568 10.1017L12.8402 8.60175C12.9463 8.50203 13.0881 8.44388 13.2375 8.4389C13.3868 8.43391 13.5327 8.48247 13.6459 8.57487C13.7591 8.66727 13.8314 8.79672 13.8483 8.93739C13.8652 9.07806 13.8255 9.21959 13.7371 9.33375L13.6793 9.39675L13.1101 9.9375H14.2976C14.5425 9.93742 14.7786 9.85135 14.9604 9.69592C15.1421 9.54049 15.2566 9.32675 15.2817 9.096L15.2872 9V7.3125C15.2873 7.16998 15.3444 7.03279 15.4471 6.92866C15.5498 6.82452 15.6904 6.76119 15.8405 6.75148C15.9906 6.74177 16.139 6.78639 16.2557 6.87632C16.3724 6.96626 16.4487 7.09481 16.4692 7.236L16.4747 7.3125V9C16.4747 9.52534 16.2632 10.0309 15.8831 10.4135C15.5031 10.7961 14.9833 11.0268 14.4298 11.0588L14.2976 11.0625H13.1109L13.6793 11.6017C13.7799 11.697 13.841 11.8233 13.8516 11.9576C13.8623 12.0919 13.8216 12.2254 13.7371 12.3337ZM14.2493 14.4375V12.918L14.2391 12.927C13.9184 13.2315 13.4791 13.3545 13.0618 13.2983V14.4375C13.0618 14.5867 12.9993 14.7298 12.8879 14.8352C12.7766 14.9407 12.6256 15 12.4681 15H4.94727C4.78979 15 4.63877 14.9407 4.52742 14.8352C4.41607 14.7298 4.35352 14.5867 4.35352 14.4375V10.6875C4.35352 10.5383 4.41607 10.3952 4.52742 10.2898C4.63877 10.1843 4.78979 10.125 4.94727 10.125H10.348C10.3939 9.981 10.4652 9.843 10.5633 9.71775L10.5808 9.69525L10.6758 9.59025L11.2996 9H4.94727C4.47485 9 4.02178 9.17779 3.68773 9.49426C3.35368 9.81073 3.16602 10.2399 3.16602 10.6875V14.4375C3.16602 14.8851 3.35368 15.3143 3.68773 15.6307C4.02178 15.9472 4.47485 16.125 4.94727 16.125H12.4681C12.9405 16.125 13.3936 15.9472 13.7276 15.6307C14.0617 15.3143 14.2493 14.8851 14.2493 14.4375Z" fill="black"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="my-3" :class="(!searchState) && 'hidden'">
                        <input type="text" class="border w-full rounded border-black pr-1 focus:outline-none py-1 pl-3" placeholder="Search" v-model="seacrh" v-on:keyup="onSearch" >
                    </div>
                    <table class="w-full">
                        <thead class="w-3/5 font-thin">
                            <tr class="border-b-[1px]">
                                <th class="py-2">No</th>
                                <th class="py-2"  v-for="head in label">{{head.name}}</th>
                                <th class="py-2 w-20"></th>
                            </tr>
                        </thead>
                        <tbody v-if="PesertaIndex.length == 0">
                            <td colSpan="99" class="text-center h-20 bg-slate-100">No Data</td>
                        </tbody>
                        <tbody v-if="(typeof PesertaIndex != 'undefined')">
                            <tr v-for="(index, items) in PesertaIndex">
                                <td class="text-center py-2 p-3">{{++items}}</td>
                                <td class="text-center py-2 p-3">{{index.Npm}}</td>
                                <td class="text-center py-2 p-3">{{index.name}}</td>
                                <td class="text-center py-2 p-3">{{index.jenisAbsen}}</td>
                                <td class="text-center py-2 p-3">{{index.unitKerja}}</td>
                                <td class="text-center py-2 p-3">{{index['Nama Kapal']}}</td>
                                <td class="text-center py-2 p-3">{{index.checkIn}}</td>
                                <td class="text-center py-2 p-3">{{index.checkOut}}</td>
                                <!-- <td class="flex py-2 justify-center items-center w-32 gap-2">
                                    <a class="w-1/2 flex justify-center cursor-pointer rounded bg-[#0D6EFD] text-white py-1 px-5" href="#" v-on:click="editState = !editState; getId=index.ID;  data_update = index; getUpdated(data_update)">
                                        Edit
                                    </a>
                                    <a class="w-1/2 flex justify-center cursor-pointer rounded bg-[#DC3545] text-white py-1 px-5" v-on:click="deleteState = !deleteState; getId=index.ID;  data_update = index; getUpdated(data_update)">
                                       Delete
                                    </a>
                                </td> -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import {ref, defineAsyncComponent} from 'vue'
import {PesertaIndex} from '../../../stores/Peserta.js'


const searchState = ref(false)

const label = [
    {
        name: 'NPM'
    },
    {
        name: 'Nama'
    },
    {
        name: 'Jenis Absen'
    },
    {
        name: 'Unit Kerja'
    },
    {
        name: 'Nama Kapal'
    },
    {
        name: 'Check In'
    },
    {
        name: 'Check Out'
    },
]

const createState = ref(false)
const editState = ref(false)
const deleteState = ref(false)


const getId = ref(null)

const data_update = ref(null)
const dataMounted = ref(15)

let i = 1

const data_searched = ref({})

const data_effect = ref(PesertaIndex)
export default {
    components: {
        // DataTable
    },
    setup: () => {
        return {
            PesertaIndex,
            label,
            i,
            createState,
            editState,
            deleteState,
            dataMounted,
            searchState,

        }
    },
    data() {
        return {
            nama: '',
            seacrh: ''
        }
    },
    name: 'ReportingComponents',
    computed: {
        onSearch(){
            let data = this.PesertaIndex.filter(object => {
            console.log(this.seacrh)
                
                return JSON.stringify(object)
                .toString()
                .toLowerCase()
                .includes(this.seacrh);
            });
            
        },
        getData(){
            return this.PesertaIndex
        }
    },
}
</script>
<style lang="">
    
</style>